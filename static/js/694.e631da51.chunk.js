"use strict";(self.webpackChunkmcq=self.webpackChunkmcq||[]).push([[694],{3876:function(e,s,n){n.r(s),n.d(s,{default:function(){return N}});var t=n(1413),a=n(8214),l=n(5861),r=n(885),i=n(2791),c=n(1609),o=n(8859),d=n(4373),x=n(6856),u=n(2419),f=n(3589),m=n(832),h=n(7692),p=n(828),v=n(6871),g=n(575),j=n(4270),b=n(184);function N(){document.title="Profile | Aakhyaan Academy";var e=(0,v.s0)(),s=(0,i.useRef)(null),n=(0,i.useRef)(null),N=(0,i.useRef)(null),y=(0,i.useState)(!1),Z=(0,r.Z)(y,2),L=Z[0],C=Z[1],T=(0,i.useState)("Profile"),S=(0,r.Z)(T,2),A=S[0],P=(S[1],(0,i.useState)(null)),F=(0,r.Z)(P,2),R=F[0],U=F[1],q=(0,i.useState)(""),E=(0,r.Z)(q,2),D=E[0],M=E[1],O=(0,i.useState)(""),V=(0,r.Z)(O,2),z=V[0],I=V[1],Y=(0,i.useState)({firstName:"",middleName:"",lastName:"",age:"",email:"",phone:"",college:"",address:"",profilePicture:""}),B=(0,r.Z)(Y,2),K=B[0],Q=B[1],X=(0,i.useState)(K),$=(0,r.Z)(X,2),G=$[0],H=$[1],J=(0,u.kY)().mutate,W=(0,u.ZP)("https://api.aakhyaan.org/user/profile",function(){var e=(0,l.Z)((0,a.Z)().mark((function e(s){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,f.Ai)(s);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(s){return e.apply(this,arguments)}}(),{revalidateOnFocus:!1,revalidateOnReconnect:!0}),_=W.data,ee=W.error;(0,i.useEffect)((function(){var s;"undefined"!==typeof _?_.success?(Q(null===_||void 0===_?void 0:_.data),U(null===_||void 0===_||null===(s=_.data)||void 0===s?void 0:s.profilePicture)):e(-1):ee&&e("/")}),[_,e,K,ee]);var se=function(){var e=(0,l.Z)((0,a.Z)().mark((function e(n){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),G!==K){e.next=5;break}I("You haven't made any changes, please make some changes before submitting."),e.next=13;break;case 5:return C(!1),I(""),s.current.classList.remove("animate-moveLeft"),s.current.classList.add("animate-vanishRight"),setTimeout((function(){s.current.classList.add("invisible")}),500),e.next=12,(0,f.s2)("https://api.aakhyaan.org/user/profile",G);case 12:J("https://api.aakhyaan.org/user/profile");case 13:case"end":return e.stop()}}),e)})));return function(s){return e.apply(this,arguments)}}(),ne=function(){var e=(0,l.Z)((0,a.Z)().mark((function e(s){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.preventDefault(),(n=new FormData).append("picture",N.current.files[0]),e.next=5,(0,f.he)("https://api.aakhyaan.org/user/changepp",n);case 5:e.sent,J("https://api.aakhyaan.org/user/profile");case 7:case"end":return e.stop()}}),e)})));return function(s){return e.apply(this,arguments)}}(),te=function(){var e,n;L&&(C(!1),I(""),null===(e=s.current)||void 0===e||e.classList.remove("animate-moveLeft"),null===(n=s.current)||void 0===n||n.classList.add("animate-vanishRight"),setTimeout((function(){var e;null===(e=s.current)||void 0===e||e.classList.add("invisible")}),500))},ae=function(){var e=(0,l.Z)((0,a.Z)().mark((function e(){var s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,m.w$)("https://api.aakhyaan.org/user/email/verify");case 2:"undefined"!==typeof(s=e.sent)&&M(s.message);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return window.addEventListener("click",(function(e){var t,a;null!==(t=s.current)&&void 0!==t&&t.contains(e.target)||(null!==(a=n.current)&&void 0!==a&&a.contains(e.target)||te())})),(0,b.jsxs)("div",{className:"w-full h-full bg-back dark:bg-background",children:[(0,b.jsx)(j.Z,{children:(0,b.jsx)("title",{children:"Profile | Aakhyaan Academy"})}),(0,b.jsx)(c.Z,{page:"profile"}),(0,b.jsx)("div",{className:"w-full h-full flex pt-[60px] md:pt-[80px] dark:bg-background",children:(0,b.jsxs)("div",{className:"relative w-full h-full flex items-center justify-center gap-20",children:[(0,b.jsxs)("div",{className:"flex flex-col w-full h-full dark:bg-background dark:text-mainText",children:[(0,b.jsxs)("div",{className:"flex flex-col gap-10 p-24 pl-10 pr-10 font-sans tracking-wide w-full",children:[(0,b.jsxs)("div",{className:"flex-col flex md:flex-row items-center gap-10",children:[(0,b.jsxs)("div",{onClick:function(e){e.preventDefault(),N.current.click()},className:"hover:cursor-pointer hover:opacity-60 rounded-sm flex justify-center items-center text-center relative",children:[(0,b.jsx)("span",{children:(0,b.jsx)(g.Z,{src:R,alt:"",sx:{width:80,height:80}})}),(0,b.jsx)("span",{className:"rounded-full bg-pink-100 absolute bottom-0 right-0 p-1 opacity-90 hover:opacity-40",children:(0,b.jsx)(p.OKb,{color:"black"})})]}),(0,b.jsx)("input",{onChange:ne,type:"file",accept:".png, .jpg, .jpeg",name:"",ref:N,hidden:!0}),(0,b.jsxs)("div",{className:"flex flex-col items-center md:items-start gap-2",children:[(0,b.jsxs)("div",{className:"gap-0 flex flex-col items-center md:items-start",children:[(0,b.jsx)("span",{className:"text-lg",children:null!==K&&void 0!==K&&K.firstName?K.firstName+" "+K.lastName:"Unknown"}),(0,b.jsx)("span",{className:"italic",children:null===K||void 0===K?void 0:K.type})]}),(0,b.jsxs)("div",{className:"flex items-center md:items-start flex-col text-blue-500 text-sm",children:[(0,b.jsxs)("div",{className:"flex flex-col md:flex-row items-center md:gap-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(x.F8X,{}),(0,b.jsx)("span",{children:null!==K&&void 0!==K&&K.email?K.email:"Unknown"})]}),(0,b.jsx)("div",{onClick:ae,className:"mb-2 md:mb-0 text-red-500 hover:cursor-pointer hover:underline",children:null!==K&&void 0!==K&&K.isVerified?"":"Verify email"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(d.tkl,{}),(0,b.jsx)("span",{children:null!==K&&void 0!==K&&K.phone?K.phone:"Unknown"})]})]})]}),(0,b.jsx)("div",{children:(0,b.jsxs)("button",{ref:n,onClick:function(e){e.preventDefault(),L?(C(!1),s.current.classList.remove("animate-moveLeft"),s.current.classList.add("animate-vanishRight"),setTimeout((function(){s.current.classList.add("invisible")}),500)):(s.current.classList.remove("invisible"),s.current.classList.remove("animate-vanishRight"),s.current.classList.add("animate-moveLeft"),H(K),C(!0))},className:"md:ml-20 flex items-center transition duration-200 outline-2 text-primary outline font-sans outline-blue-400 rounded-lg  hover:bg-blue-500 hover:text-white px-3 py-1 text-xl",children:[(0,b.jsx)("span",{children:"Edit"}),(0,b.jsx)(h.vpV,{})]})})]}),(0,b.jsx)("div",{className:"text-center text-red-600 md:text-left md:ml-28",children:D})]}),(0,b.jsx)("div",{className:"flex flex-col dark:bg-slate-500 dark:text-white",children:(0,b.jsx)("div",{className:"flex items-center gap-5 border-b-2 font-sans w-full"})}),(0,b.jsxs)("div",{className:"p-5 dark:bg-background bg-back dark:text-mainText mt-10",children:["Profile"===A?(0,b.jsx)(k,{profile:K}):null,"Solved Mcqs"===A?(0,b.jsx)(w,{}):null]}),(0,b.jsx)(o.Z,{})]}),(0,b.jsxs)("div",{ref:s,className:"invisible flex flex-col gap-10 p-10 mt-[60px] md:mt-[80px] m-auto fixed right-0 rounded-lg w-[350px] bg-footer shadow-lg dark:bg-formBox h-full z-50",children:[(0,b.jsx)("div",{children:(0,b.jsx)("span",{className:"float-right hover:cursor-pointer hover:translate-y-0.5 hover:translate-x-0.5",children:(0,b.jsx)(d.QAE,{size:30,color:"white",onClick:function(){te()}})})}),(0,b.jsx)("div",{className:"text-mainText text-2xl text-center font-semibold font-sans",children:"Edit Profile"}),(0,b.jsxs)("form",{onSubmit:se,className:"flex flex-col",children:[(0,b.jsxs)("div",{className:"flex flex-col md:flex-row  md:gap-3",children:[(0,b.jsxs)("div",{className:"flex flex-col mb-4",children:[(0,b.jsx)("label",{className:"block text-mainText font-sans text-lg mb-2",htmlFor:"email",children:"FirstName"}),(0,b.jsx)("input",{className:"font-sans shadow appearance-none border focus:outline-blue-600 focus:shadow-none rounded w-full py-2 px-3 text-gray-700 leading-tight",type:"text",placeholder:"First Name",value:G.firstName,onChange:function(e){return H((function(s){return(0,t.Z)((0,t.Z)({},s),{},{firstName:e.target.value})}))}})]}),(0,b.jsxs)("div",{className:"flex flex-col mb-4",children:[(0,b.jsx)("label",{className:"block text-mainText font-sans text-lg mb-2",htmlFor:"email",children:"LastName"}),(0,b.jsx)("input",{className:"font-sans shadow appearance-none border focus:outline-blue-600 focus:shadow-none rounded w-full py-2 px-3 text-gray-700 leading-tight",type:"text",placeholder:"Last Name",value:G.lastName,onChange:function(e){return H((function(s){return(0,t.Z)((0,t.Z)({},s),{},{lastName:e.target.value})}))}})]})]}),(0,b.jsx)("div",{className:"mb-4",children:(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-mainText font-sans text-lg mb-2",htmlFor:"email",children:"College"}),(0,b.jsx)("input",{className:"font-sans shadow appearance-none border focus:outline-blue-600 focus:shadow-none rounded w-full py-2 px-3 text-gray-700 leading-tight",type:"text",placeholder:"College",value:G.college,onChange:function(e){return H((function(s){return(0,t.Z)((0,t.Z)({},s),{},{college:e.target.value})}))}})]})}),(0,b.jsx)("div",{className:"mb-4",children:(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-mainText font-sans text-lg mb-2",htmlFor:"email",children:"Age"}),(0,b.jsx)("input",{className:"font-sans shadow appearance-none border focus:outline-blue-600 focus:shadow-none rounded w-full py-2 px-3 text-gray-700 leading-tight",type:"text",placeholder:"Age",value:G.age,onChange:function(e){return H((function(s){return(0,t.Z)((0,t.Z)({},s),{},{age:Number(e.target.value)})}))}})]})}),(0,b.jsx)("div",{className:"mb-4",children:(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-mainText font-sans text-lg mb-2",htmlFor:"email",children:"Address"}),(0,b.jsx)("input",{className:"font-sans shadow appearance-none border rounded focus:outline-blue-600 focus:shadow-none w-full py-2 px-3 text-gray-700 leading-tight",type:"text",placeholder:"Address",value:G.address,onChange:function(e){return H((function(s){return(0,t.Z)((0,t.Z)({},s),{},{address:e.target.value})}))}})]})}),(0,b.jsx)("div",{className:"mb-6",children:(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-mainText font-sans text-lg mb-2",htmlFor:"email",children:"Phone"}),(0,b.jsx)("input",{className:"mb-3 font-sans shadow appearance-none border rounded focus:outline-blue-600 focus:shadow-none w-full py-2 px-3 text-gray-700 leading-tight",type:"text",placeholder:"Phone No",value:G.phone,onChange:function(e){return H((function(s){return(0,t.Z)((0,t.Z)({},s),{},{phone:e.target.value})}))}}),(0,b.jsx)("div",{className:"text-center text-red-300",children:z})]})}),(0,b.jsx)("div",{className:"flex justify-center md:justify-end",children:(0,b.jsx)("button",{className:"font-sans text-lg hover:translate-y-0.5 bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded focus:outline-none focus:shadow-outline",type:"submit",children:"Submit"})})]})]})]})})]})}var k=function(e){var s=e.profile;return(0,b.jsxs)("div",{className:"grid md:grid-cols-2 gap-20 font-sans dark:bg-background w-full min-h-[500px]",children:[(0,b.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,b.jsx)("div",{className:"border-b-2 text-xl font-medium",children:"Personal Information"}),(0,b.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,b.jsxs)("div",{className:"flex flex-col",children:[(0,b.jsx)("span",{className:"text-lg text-faintText",children:"Age"}),(0,b.jsx)("span",{className:"font-light ",children:null!==s&&void 0!==s&&s.age?s.age:"Unknown"})]}),(0,b.jsxs)("div",{className:"flex flex-col",children:[(0,b.jsx)("span",{className:"text-lg text-faintText",children:"College"}),(0,b.jsx)("span",{className:"font-light ",children:null!==s&&void 0!==s&&s.college?s.college:"Unknown"})]})]})]}),(0,b.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,b.jsx)("div",{className:"border-b-2 text-xl font-medium",children:"Location"}),(0,b.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,b.jsxs)("div",{className:"flex flex-col",children:[(0,b.jsx)("span",{className:"text-lg text-faintText",children:"Country"}),(0,b.jsx)("span",{className:"font-light ",children:"Nepal"})]}),(0,b.jsxs)("div",{className:"flex flex-col",children:[(0,b.jsx)("span",{className:"text-lg text-faintText",children:"Address"}),(0,b.jsx)("span",{className:"font-light ",children:null!==s&&void 0!==s&&s.address?s.address:"Unknown"})]})]})]}),(0,b.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,b.jsx)("div",{className:"border-b-2 text-xl font-medium",children:"Contact Information"}),(0,b.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,b.jsxs)("div",{className:"flex flex-col",children:[(0,b.jsx)("span",{className:"text-lg text-faintText",children:"Phone"}),(0,b.jsx)("span",{className:"font-light ",children:null!==s&&void 0!==s&&s.phone?s.phone:"Unknown"})]}),(0,b.jsxs)("div",{className:"flex flex-col",children:[(0,b.jsx)("span",{className:"text-lg text-faintText",children:"Email"}),(0,b.jsx)("span",{className:"font-light ",children:null!==s&&void 0!==s&&s.email?s.email:"Unknown"})]})]})]})]})},w=function(){return(0,b.jsx)("div",{className:"font-sans min-h-[500px] bg-back",children:(0,b.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,b.jsx)("div",{children:"Mcq Set 1"}),(0,b.jsx)("div",{children:"Mcq Set 2"}),(0,b.jsx)("div",{children:"Mcq Set 3"})]})})}}}]);
//# sourceMappingURL=694.e631da51.chunk.js.map