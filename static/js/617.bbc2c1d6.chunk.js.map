{"version":3,"file":"static/js/617.bbc2c1d6.chunk.js","mappings":"kSAWe,SAASA,IACtB,IAAMC,GAAWC,EAAAA,EAAAA,MACjB,GAA0BC,EAAAA,EAAAA,WAAS,GAAnC,eAAOC,EAAP,KAAcC,EAAd,KACA,GAAwCF,EAAAA,EAAAA,UAAS,IAAjD,eAAOG,EAAP,KAAqBC,EAArB,KACA,GAA4BJ,EAAAA,EAAAA,WAAS,GAArC,eAAOK,EAAP,KAAeC,EAAf,KACA,GAAoCN,EAAAA,EAAAA,UAAS,CAC3CO,SAAU,GACVC,OAAQ,KAFV,eAAOC,EAAP,KAAmBC,EAAnB,KAIA,GAAwBV,EAAAA,EAAAA,UAAS,CAAEW,MAAO,KAA1C,eAAOC,EAAP,KAAaC,EAAb,KACMC,EAAY,yCAAG,WAAOC,GAAP,mFACnBA,EAAEC,iBADiB,UAEAC,EAAAA,EAAAA,IAAeC,gDAAyDN,GAFxE,OAGC,qBADdO,EAFa,UAIbA,EAAKC,QACPlB,GAAS,GAETE,EAAgBe,EAAKE,UAPN,2CAAH,sDAYZC,EAAM,yCAAG,WAAOP,GAAP,6EACbA,EAAEC,iBADW,UAEPO,EAAAA,EAAAA,IAAWL,yCAFJ,OAGbpB,EAAS,UAHI,2CAAH,sDAMZ,GAAiB0B,EAAAA,EAAAA,IAAON,wCAAD,yCAAkD,WAAMO,GAAN,uFAAmBC,EAAAA,EAAAA,IAAWD,GAA9B,mFAAlD,uDAAfN,EAAR,EAAQA,KAgBR,OAdAQ,EAAAA,EAAAA,YAAU,WAAM,8CACd,6FACsB,qBAATR,IACLA,EAAKC,SACPd,GAAU,GACVI,EAAc,CAAEH,UAAc,OAAJY,QAAI,IAAJA,GAAA,UAAAA,EAAMA,YAAN,eAAYS,WAAY,KAAxB,OAA8BT,QAA9B,IAA8BA,GAA9B,UAA8BA,EAAMA,YAApC,aAA8B,EAAYU,UAAUrB,OAAM,OAAEW,QAAF,IAAEA,GAAF,UAAEA,EAAMA,YAAR,aAAE,EAAYW,kBAElGxB,GAAU,IANhB,4CADc,uBAAC,WAAD,wBAWdyB,EACD,GAAE,CAACZ,KAGF,iCACE,SAAC,IAAD,WACE,qEAEF,SAAC,IAAD,CAAQa,KAAK,WACZ3B,GACC,gBAAK4B,UAAS,+FAAd,UACE,iBAAKA,UAAU,mCAAf,WACE,gBAAKA,UAAU,2CAAf,gDAGA,gBAAKA,UAAU,mHAAf,UACE,iBAAKA,UAAU,8EAAf,WACE,iBAAKC,QAAS,WACZpC,EAAS,IACV,EAAEmC,UAAU,0BAFb,WAGE,0BAAK,SAAC,IAAD,CAAQE,IAAI,GAAGC,IAAG,OAAE3B,QAAF,IAAEA,OAAF,EAAEA,EAAYD,YACrC,gBAAKyB,UAAU,wEAAf,gBACGxB,QADH,IACGA,OADH,EACGA,EAAYF,eAGjB,gBAAK0B,UAAU,mBAAf,UACE,SAAC,KAAD,CAAMI,GAAG,IAAIH,QAASZ,EAAQW,UAAS,6BAAvC,kCAOV,gBAAKA,UAAU,wGAAf,UACE,gBAAKA,UAAU,gEAAf,UACE,4BACE,kBAAMA,UAAU,wEAAwEK,SAAUxB,EAAlG,WACE,gBAAKmB,UAAU,6EAAf,UACE,gBAAKE,IAAI,GAAGC,IAAI,wBAElB,gBAAKH,UAAU,kFAAf,UACE,gBAAKE,IAAI,GAAGC,IAAI,4BAEhBnC,GAsBA,iBAAKgC,UAAU,wDAAf,WACE,iBAAKA,UAAU,yDAAf,8DAA0HrB,EAAKD,UAC/H,gBAAKsB,UAAU,mBAAf,0CACA,gBAAKA,UAAU,qBAAf,UACE,SAAC,KAAD,CAAMI,GAAG,SAASJ,UAAU,kFAA5B,sBAzBJ,iCACE,iBAAKA,UAAU,iCAAf,WACE,gBAAKA,UAAU,YAAf,oGACA,gBAAKA,UAAU,OAAf,UACE,kBAAOA,UAAU,wIAAwIM,KAAK,OAAOC,YAAY,QAC/KC,MAAO7B,EAAKD,MACZ+B,SAAU,SAAA3B,GAAC,OACTF,GAAQ,kBAAKD,GAAN,IAAYD,MAAOI,EAAE4B,OAAOF,QAD1B,EAETG,UAAQ,UAGhB,gBAAKX,UAAU,wDAAf,SACG9B,KAEH,gBAAK8B,UAAU,uCAAf,UACE,mBAAQA,UAAU,6JAA6JM,KAAK,SAApL,6BAeR,cAAGN,UAAU,oDAAb,0EAQR,SAAC,IAAD,MAGL,C","sources":["pages/Forgot.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\nimport Header from \"../components/Header\"\nimport { useNavigate, Link } from \"react-router-dom\";\nimport { logoutUser } from '../api/User'\nimport { forgotPassword } from '../api/User'\nimport { Avatar } from '@mui/material'\nimport useSWR from 'swr'\nimport { getProfile } from '../api/Profile'\nimport Footer from '../components/Footer'\nimport Helmet from \"react-helmet\";\n\nexport default function Forgot() {\n  const navigate = useNavigate()\n  const [reset, setReset] = useState(false)\n  const [errorMessage, setErrorMessage] = useState(\"\")\n  const [logged, setLogged] = useState(false)\n  const [loggedUser, setLoggedUser] = useState({\n    username: \"\",\n    avatar: \"\"\n  })\n  const [user, setUser] = useState({ email: \"\" })\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const data = await forgotPassword(process.env.REACT_APP_BACKEND + \"/user/password-reset/\", user)\n    if (typeof data !== typeof undefined) {\n      if (data.success) {\n        setReset(true)\n      } else {\n        setErrorMessage(data.message)\n      }\n    }\n  }\n\n  const logout = async (e) => {\n    e.preventDefault()\n    await logoutUser(process.env.REACT_APP_BACKEND + \"/user/logout/\")\n    navigate('/login')\n  }\n\n  const { data } = useSWR(process.env.REACT_APP_BACKEND + \"/user/profile\", async url => await getProfile(url))\n\n  useEffect(() => {\n    async function getData() {\n      if (typeof data !== typeof undefined) {\n        if (data.success) {\n          setLogged(true)\n          setLoggedUser({ username: data?.data?.firstName + \" \" + data?.data?.lastName, avatar: data?.data?.profilePicture })\n        } else {\n          setLogged(false)\n        }\n      }\n    }\n    getData()\n  }, [data])\n\n  return (\n    <>\n      <Helmet>\n        <title>Forgot Password | Aakhyaan Academy</title>\n      </Helmet>\n      <Header page=\"forgot\" />\n      {logged ?\n        <div className={`bg-back dark:bg-background w-full h-full flex items-center justify-center gap-20 pl-10 pr-10`}>\n          <div className=\"flex flex-col gap-3 items-center\">\n            <div className=\"dark:text-red-400 font-sans text-red-800\">\n              Hey, you are already logged in as\n            </div>\n            <div className=\"dark:bg-formBox dark:text-mainText/75 bg-blue-50 flex flex-col gap-3 dark:md:border-0 md:border-2 shadow-lg p-10\">\n              <div className=\"hover:cursor-pointer flex flex-col md:flex-row items-center gap-4 md:gap-10\">\n                <div onClick={() => {\n                  navigate('/')\n                }} className=\"flex items-center gap-3\">\n                  <div><Avatar alt=\"\" src={loggedUser?.avatar} /></div>\n                  <div className=\"font-sans dark:text-mainText/75 text-blue-900 text-xl hover:underline\">\n                    {loggedUser?.username}\n                  </div>\n                </div>\n                <div className=\"flex justify-end\">\n                  <Link to=\"/\" onClick={logout} className={` font-sans hover:underline`}>Log Out</Link>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        :\n        <div className=\"font-sans dark:text-mainText dark:bg-background w-full h-full flex items-center justify-center gap-20\">\n          <div className=\"w-full max-w-xs md:max-w-md flex flex-col gap-10 items-center\">\n            <div>\n              <form className=\"dark:md:bg-formBox md:bg-blue-50 md:shadow-md rounded px-12 py-8 mb-4\" onSubmit={handleSubmit}>\n                <div className=\"dark:hidden float-right select-none min-w-[100px] max-w-[120px] mb-5 mt-2 \">\n                  <img alt=\"\" src=\"aakhyaanText.png\"></img>\n                </div>\n                <div className=\"hidden dark:flex float-right select-none min-w-[100px] max-w-[120px] mb-5 mt-2 \">\n                  <img alt=\"\" src=\"aakhyaanTextWhite.png\"></img>\n                </div>\n                {!reset ?\n                  <>\n                    <div className=\"flex flex-col gap-5 clear-both\">\n                      <div className='text-left'>Please enter your email so that we can do a quick search for your account. Thank you!</div>\n                      <div className=\"mb-4\">\n                        <input className=\"font-sans shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-blue-600 focus:shadow-none\" type=\"text\" placeholder=\"Email\"\n                          value={user.email}\n                          onChange={e =>\n                            setUser({ ...user, email: e.target.value })\n                          } required />\n                      </div>\n                    </div>\n                    <div className=\"mb-4 font-sans tracking-wide text-center text-red-500\">\n                      {errorMessage}\n                    </div>\n                    <div className=\"flex justify-center md:justify-start\">\n                      <button className=\"font-sans text-lg hover:-translate-y-0.5 transition-all bg-blue-500 hover:bg-blue-700 text-white py-2 px-4 rounded focus:outline-none focus:shadow-outline\" type=\"submit\">\n                        Submit\n                      </button>\n                    </div>\n                  </>\n                  :\n                  <div className=\"dark:text-blue-200 font-sans clear-both flex flex-col\">\n                    <div className=\"text-center mb-5 mt-5 dark:text-gray-500 text-blue-500\">A password reset link has been sent to the email {user.email}</div>\n                    <div className=\"text-center mb-5\">Please reset your password.</div>\n                    <div className=\"flex relative mb-5\">\n                      <Link to=\"/login\" className=\"dark:text-blue-500 text-green-800 dark:text-lg absolute right-0 hover:underline\">Ok</Link>\n                    </div>\n\n                  </div>}\n              </form>\n              <p className=\"dark:text-white text-center text-gray-500 text-xs\">\n                Aakhyaan Â© 2022 aakhyaan.org. All Rights Reserved\n              </p>\n\n            </div>\n          </div>\n        </div>\n      }\n      <Footer />\n    </>\n  )\n}\n"],"names":["Forgot","navigate","useNavigate","useState","reset","setReset","errorMessage","setErrorMessage","logged","setLogged","username","avatar","loggedUser","setLoggedUser","email","user","setUser","handleSubmit","e","preventDefault","forgotPassword","process","data","success","message","logout","logoutUser","useSWR","url","getProfile","useEffect","firstName","lastName","profilePicture","getData","page","className","onClick","alt","src","to","onSubmit","type","placeholder","value","onChange","target","required"],"sourceRoot":""}